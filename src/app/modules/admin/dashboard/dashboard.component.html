<div class="container p-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
      <div class="col-6">
        <div class="heading pt-2">
          Dashboard
        </div>
      </div>
      <div class="col-6 dflexmain"></div>
    </div>
  
    <div class="maindashboard">
      <!-- Stats boxes -->
      <div class="grid grid-cols-1 md:grid-cols-6 gap-4 mt-2">
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Active Merchants</p>
          <div class="dashed d-flex">
            <h2>{{ dashboardData?.activeMerchants }}</h2>
            <img src="/images/icon/user.svg" alt="">
          </div>
        </div>
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Active Users</p>
          <div class="dashed">
            <h2>{{ dashboardData?.activeUsers }}</h2>
          </div>
        </div>
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Total Orders</p>
          <div class="dashed">
            <h2>{{ dashboardData?.totalOrders }}</h2>
          </div>
        </div>
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Completed Orders</p>
          <div class="dashed">
            <h2>{{ dashboardData?.completedOrders }}</h2>
          </div>
        </div>
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Pending Orders</p>
          <div class="dashed">
            <h2>{{ dashboardData?.pendingOrders }}</h2>
          </div>
        </div>
        <div class="col-2 border p-4 bg-white radius-10">
          <p>Cancelled Orders</p>
          <div class="dashed">
            <h2>{{ dashboardData?.cancelledOrders }}</h2>
          </div>
        </div>
      </div>
  
      <!-- Product Sales (Bar Chart) -->
      <div class="grid grid-cols-1 md:grid-cols-1 mt-6 gap-4 mt-2">
        <div class="col-12 border p-4 bg-white radius-10">
          <div class="dashinner">
            <h2>Product Sales</h2>
            <canvas baseChart
              [data]="{ labels: barChartLabels, datasets: barChartData }"
              [options]="barChartOptions"
              [type]="barChartType">
            </canvas>
          </div>
        </div>
      </div>
  
      <!-- Sales by Product (Pie Chart) & Sales by Countries (Doughnut Chart) -->
      <div class="grid grid-cols-1 md:grid-cols-2 mt-6 gap-4 mt-2">
        <div class="col-6 border p-4 bg-white radius-10">
          <div class="dashinner">
            <h2>Sales By Gender</h2>
            <canvas baseChart
              [data]="{ labels: pieChartLabels, datasets: [{ data: pieChartData }] }"
              [type]="pieChartType">
            </canvas>
          </div>
        </div>
        <div class="col-6 border p-4 bg-white radius-10">
          <div class="dashinner">
            <h2>Sales By Countries</h2>
            <canvas baseChart
              [data]="{ labels: doughnutChartLabels, datasets: [{ data: doughnutChartData }] }"
              [type]="doughnutChartType">
            </canvas>
          </div>
        </div>
      </div>

      <!--Recent Transactions-->

      
    </div>

    <br>

    <div class="transactions">
      <div class="transactionheading pt-2">Recent Transactions</div>
      <div class="tableparent">
        <table class="table table-striped table-bordered align-middle text-center">
          <thead class="table-light">
            <tr>              
              <th class="border px-4 py-2">Order ID</th>
              <th class="border px-4 py-2">Customer Name</th>
              <th class="border px-4 py-2">Order Status</th>
              <th class="border px-4 py-2">Payment Status</th>
              <th class="border px-4 py-2">Payment Method</th>
              <th class="border px-4 py-2">Amount</th>
              <th class="border px-4 py-2">Date</th>
              <th class="border px-4 py-2">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders">
              <td class="border px-4 py-2">{{ order.orderId }}</td>
              <td>
                {{
                  order.ordertype === 'Manual'
                    ? 'Derzi Team'
                    : (order.userId?.firstname || '') + ' ' + (order.userId?.lastname || '')
                }}
              </td> 
              <td class="border px-4 py-2">{{ order.orderStatus }}</td>
              <td class="border px-4 py-2">{{ order.paymentStatus }}</td>
              <td class="border px-4 py-2">{{ order.paymentMethod }}</td>
              <td class="border px-4 py-2">{{ order.total }} BHD</td>
              <td class="border px-4 py-2">{{ order.createdAt | date:'medium' }}</td>
              <td class="border px-4 py-2">
                <button (click)="viewOrder(order._id)" mat-flat-button color="primary" style="padding: 4px 12px; font-size: 13px;">
                  View Order
                </button>
                
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>

    </div>
  </div>
  