<div class="container p-4">

    <!-- Header with Actions -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
      <div class="col-6">
        <div class="heading pt-2">Add Promocode</div>
      </div>
      <div class="col-6 dflexmain">
        <button class="btn-add" (click)="onSubmit()">
          Save
        </button>
        <button class="btn-cancel" (click)="onCancel()">Cancel</button>
      </div>
    </div>
  
    <div class="row">&nbsp;</div>
  
    <!-- Form Section -->
    <div class="bg-white p-2 border rounded">
      <form [formGroup]="promocodeForm" class="p-4 grid gap-4">

        <!-- Code -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <mat-form-field class="w-full">
          <mat-label>Promo Code</mat-label>
          <input matInput formControlName="code" placeholder="Enter promo code" />
          <!-- <mat-error *ngIf="promocodeForm.get('code')?.hasError('required')">Code is required</mat-error> -->
        </mat-form-field>

        <mat-form-field class="w-full">
          <mat-label>Product</mat-label>
          <mat-select formControlName="productId">
            <mat-option *ngFor="let p of products" [value]="p._id">{{ p.name }}</mat-option>
          </mat-select>
        </mat-form-field>
  
        </div>
        <!-- Discount Type & Value -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <mat-form-field class="w-full">
            <mat-label>Discount Type</mat-label>
            <mat-select formControlName="discountType">
              <mat-option value="Flat">Flat</mat-option>
              <mat-option value="Percentage">Percentage</mat-option>
            </mat-select>
          </mat-form-field>
      
          <mat-form-field class="w-full">
            <mat-label>Discount Value</mat-label>
            <input matInput type="number" formControlName="discountValue" />
          </mat-form-field>
        </div>
      
        <!-- Start & Expiry Dates -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <mat-form-field class="w-full">
            <mat-label>Start Date</mat-label>
            <input matInput [matDatepicker]="startPicker" formControlName="startDate" />
            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
          </mat-form-field>
      
          <mat-form-field class="w-full">
            <mat-label>Expiry Date</mat-label>
            <input matInput [matDatepicker]="expiryPicker" formControlName="expiryDate" />
            <mat-datepicker-toggle matSuffix [for]="expiryPicker"></mat-datepicker-toggle>
            <mat-datepicker #expiryPicker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">          
          <!-- Description -->
          <mat-form-field class="w-full">
            <mat-label>Description</mat-label>
            <textarea matInput rows="3" formControlName="description"></textarea>
            <!-- <mat-error *ngIf="promocodeForm.get('description')?.hasError('required')">Description is required</mat-error> -->
          </mat-form-field>
        
          <!-- Status -->
          <mat-form-field class="w-full">
            <mat-label>Description - Ar</mat-label>
            <textarea matInput rows="3" formControlName="description"></textarea>
            <!-- <mat-error *ngIf="promocodeForm.get('description')?.hasError('required')">Description is required</mat-error> -->
          </mat-form-field>
      
        </div>
      
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <mat-form-field class="w-full">
            <mat-label>Status</mat-label>
            <mat-select formControlName="status">
              <mat-option value="Active">Active</mat-option>
              <mat-option value="Inactive">Inactive</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        
      </form>
      
    </div>
  </div>
  
